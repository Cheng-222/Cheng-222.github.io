import{_ as P,c as n,a as t,t as o,e as u,F as p,r as m,g as f,h as T,b as h,i as C,o as l,n as _,w}from"./index-CeUlyrV-.js";const b={name:"Tags",data(){return{articles:[],categories:[{id:1,name:"技术分享"},{id:2,name:"生活随笔"},{id:3,name:"读书笔记"},{id:4,name:"项目经验"}],currentPage:1,totalPages:1}},computed:{currentTag(){return this.$route.params.tag}},created(){this.fetchTaggedArticles()},watch:{"$route.params.tag":function(){this.currentPage=1,this.fetchTaggedArticles()}},methods:{async fetchTaggedArticles(){const a=this.currentTag;try{const g=await(await fetch(`http://localhost:3000/api/articles?tag=${encodeURIComponent(a)}`)).json();this.articles=g.map(r=>({...r,publishTime:new Date(r.publishTime),tags:typeof r.tags=="string"?r.tags.split(","):r.tags})),this.totalPages=Math.ceil(this.articles.length/10)}catch(e){console.error("获取标签文章失败:",e);const g=[{id:1,title:"Vue 3 Composition API 最佳实践",publishTime:new Date("2024-01-15"),categoryId:1,excerpt:"Vue 3 的 Composition API 为我们提供了更灵活的组件逻辑组织方式，本文将分享一些在实际项目中使用 Composition API 的最佳实践...",tags:["Vue3","Composition API","前端开发"],views:1234,comments:56},{id:2,title:"如何高效学习新技术栈",publishTime:new Date("2024-01-10"),categoryId:3,excerpt:"在技术快速迭代的今天，如何高效地学习新技术栈成为每个开发者都需要面对的挑战。本文将分享我的一些学习方法和经验...",tags:["学习方法","职业发展"],views:890,comments:34},{id:3,title:"Node.js 性能优化技巧",publishTime:new Date("2024-01-05"),categoryId:1,excerpt:"Node.js 作为服务端 JavaScript 运行环境，其性能优化一直是开发者关注的焦点。本文将介绍一些实用的性能优化技巧...",tags:["Node.js","性能优化","后端开发"],views:1567,comments:78},{id:4,title:"前端开发中的常见陷阱",publishTime:new Date("2024-01-01"),categoryId:1,excerpt:"在前端开发过程中，我们经常会遇到一些容易被忽视的陷阱。本文总结了一些常见的陷阱及其解决方案...",tags:["前端开发","最佳实践"],views:987,comments:45}];this.articles=g.filter(r=>r.tags.includes(a)),this.totalPages=Math.ceil(this.articles.length/10)}},formatDate(a){const e=new Date(a);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},getCategoryName(a){const e=this.categories.find(g=>g.id===a);return e?e.name:"未分类"},goToArticle(a){this.$router.push(`/article/${a}`)},goToTag(a){this.$router.push(`/tags/${a}`)},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++}}},y={class:"tags-container"},x={class:"tags-header"},k={class:"tags-title"},A={class:"main-content"},I={class:"content-wrapper"},D=["onClick"],N={class:"article-header"},S={class:"article-title"},V={class:"article-meta"},M={class:"publish-time"},B={class:"article-excerpt"},j={class:"article-footer"},z={class:"article-tags"},F=["onClick"],R={class:"article-stats"},E={class:"stat-item"},J={class:"stat-item"},L={key:0,class:"no-articles"},U={key:1,class:"pagination"},Y=["disabled"],q={class:"page-info"},G=["disabled"];function H(a,e,g,r,c,i){const v=C("router-link");return l(),n("div",y,[t("div",x,[t("h1",k,"标签: #"+o(i.currentTag),1),e[2]||(e[2]=t("p",{class:"tags-description"},"查看所有包含此标签的文章",-1))]),t("div",A,[t("div",I,[(l(!0),n(p,null,m(c.articles,s=>(l(),n("article",{key:s.id,class:"article-card",onClick:d=>i.goToArticle(s.id)},[t("div",N,[t("h2",S,o(s.title),1),t("div",V,[t("span",M,o(i.formatDate(s.publishTime)),1),t("span",{class:_(["category",`category-${s.categoryId}`])},o(i.getCategoryName(s.categoryId)),3)])]),t("div",B,o(s.excerpt),1),t("div",j,[t("div",z,[(l(!0),n(p,null,m(s.tags,d=>(l(),n("span",{key:d,class:_(["tag",{active:d===i.currentTag}]),onClick:w(K=>i.goToTag(d),["stop"])}," #"+o(d),11,F))),128))]),t("div",R,[t("span",E,[e[3]||(e[3]=t("svg",{class:"icon",viewBox:"0 0 16 16",fill:"currentColor"},[t("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})],-1)),h(" "+o(s.views),1)]),t("span",J,[e[4]||(e[4]=t("svg",{class:"icon",viewBox:"0 0 16 16",fill:"currentColor"},[t("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 0 .398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"})],-1)),h(" "+o(s.comments),1)])])])],8,D))),128)),c.articles.length===0?(l(),n("div",L,[t("p",null,'没有找到包含标签 "'+o(i.currentTag)+'" 的文章',1),f(v,{to:"/",class:"back-home"},{default:T(()=>[...e[5]||(e[5]=[h("返回首页",-1)])]),_:1})])):u("",!0),c.articles.length>0?(l(),n("div",U,[t("button",{class:"page-btn",disabled:c.currentPage===1,onClick:e[0]||(e[0]=(...s)=>i.prevPage&&i.prevPage(...s))},"上一页",8,Y),t("span",q,o(c.currentPage)+" / "+o(c.totalPages),1),t("button",{class:"page-btn",disabled:c.currentPage===c.totalPages,onClick:e[1]||(e[1]=(...s)=>i.nextPage&&i.nextPage(...s))},"下一页",8,G)])):u("",!0)])])])}const Q=P(b,[["render",H],["__scopeId","data-v-071b6346"]]);export{Q as default};
